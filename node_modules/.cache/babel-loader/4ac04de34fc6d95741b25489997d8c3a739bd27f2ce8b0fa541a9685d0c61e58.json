{"ast":null,"code":"import _slicedToArray from\"C:/Users/Alfap/Documents/GitHub/biblioteka-altdorfu/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import magia from\"../Json/magia.json\";import ItemList from\"../components/item-list/item-list\";import\"./Pages-Styles/magia.styles.css\";import SearchBox from\"../components/search-box/search-box.component\";import Dropdown from\"../components/dropdown/dropdownIt/dropdownIt\";import DropdownPZ from\"../components/dropdownPZ/dropdownPZ\";import{useState}from'react';import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Magia=function Magia(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchField=_useState2[0],setSearchField=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),Magia=_useState4[0],setMagia=_useState4[1];var _useState5=useState(Magia),_useState6=_slicedToArray(_useState5,2),NameFilter=_useState6[0],setNameFilter=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selected=_useState8[0],setSelected=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectedPZ=_useState10[0],setSelectedPZ=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),selectedPunkty=_useState12[0],setSelectedPunkty=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),selectedMagia=_useState14[0],setSelectedMagia=_useState14[1];useEffect(function(){var result=magia.sort(function(a,b){return a.nazwa.localeCompare(b.nazwa);});setMagia(result);},[]);useEffect(function(){var PZ=Magia.filter(function(item){return item.pz.includes(selectedPZ);});setSelectedPunkty(PZ);},[Magia,searchField,selected,selectedPZ]);useEffect(function(){var sM=selectedPunkty.filter(function(item){return item.typ.includes(selected);});setSelectedMagia(sM);},[selected,Magia,searchField,selectedPunkty]);useEffect(function(){var newNameChange=selectedMagia.filter(function(item){return item.nazwa.toLowerCase().includes(searchField);});setNameFilter(newNameChange);},[Magia,searchField,selectedMagia,selectedPZ]);var onSearchChange=function onSearchChange(event){var searchFieldString=event.target.value.toLowerCase();setSearchField(searchFieldString);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchBoxBackground\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SearchBox,{onChangeHandler:onSearchChange,className:'search-box',placeholder:'Nazwa zaklęcia'})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Dropdown,{selected:selected,className:\"drop\",setSelected:setSelected})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DropdownPZ,{selectedPZ:selectedPZ,className:\"drop\",setSelectedPZ:setSelectedPZ})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Container\",children:NameFilter.map(function(item){return/*#__PURE__*/_jsx(ItemList,{Mlist:item});})})]});};export default Magia;","map":{"version":3,"names":["magia","ItemList","SearchBox","Dropdown","DropdownPZ","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Magia","_useState","_useState2","_slicedToArray","searchField","setSearchField","_useState3","_useState4","setMagia","_useState5","_useState6","NameFilter","setNameFilter","_useState7","_useState8","selected","setSelected","_useState9","_useState10","selectedPZ","setSelectedPZ","_useState11","_useState12","selectedPunkty","setSelectedPunkty","_useState13","_useState14","selectedMagia","setSelectedMagia","result","sort","a","b","nazwa","localeCompare","PZ","filter","item","pz","includes","sM","typ","newNameChange","toLowerCase","onSearchChange","event","searchFieldString","target","value","className","children","onChangeHandler","placeholder","map","Mlist"],"sources":["C:/Users/Alfap/Documents/GitHub/biblioteka-altdorfu/src/pages/magia.jsx"],"sourcesContent":["import magia from \"../Json/magia.json\";\r\nimport ItemList from \"../components/item-list/item-list\";\r\nimport \"./Pages-Styles/magia.styles.css\";\r\nimport SearchBox from \"../components/search-box/search-box.component\"\r\nimport Dropdown from \"../components/dropdown/dropdownIt/dropdownIt\";\r\nimport DropdownPZ from \"../components/dropdownPZ/dropdownPZ\"\r\nimport {useState} from 'react';\r\nimport { useEffect } from \"react\";\r\n\r\nconst Magia = () =>{\r\n    \r\n    const [searchField, setSearchField] = useState('');\r\n    const [Magia, setMagia] = useState([]);\r\n    const [NameFilter, setNameFilter] = useState(Magia);\r\n    const [selected, setSelected] = useState(\"\");\r\n    const [selectedPZ, setSelectedPZ] = useState(\"\");\r\n    const [selectedPunkty, setSelectedPunkty] = useState([]);\r\n    const [selectedMagia, setSelectedMagia] = useState([])\r\n    \r\n    useEffect(() =>{\r\n        const result = magia.sort((a,b) => a.nazwa.localeCompare(b.nazwa))\r\n        setMagia(result); \r\n        \r\n    }, []);\r\n\r\n    useEffect(() =>{\r\n        const PZ = Magia.filter((item) =>{\r\n            return item.pz.includes(selectedPZ);\r\n        })\r\n        setSelectedPunkty(PZ);   \r\n    }, [ Magia, searchField, selected, selectedPZ])\r\n\r\n    \r\n\r\n    useEffect(() =>{\r\n        const sM = selectedPunkty.filter((item) =>{\r\n            return item.typ.includes(selected);\r\n        })\r\n        setSelectedMagia(sM);   \r\n    }, [selected, Magia, searchField, selectedPunkty])\r\n\r\n    useEffect(() =>{\r\n        const newNameChange = selectedMagia.filter((item) =>{\r\n            return item.nazwa.toLowerCase().includes(searchField);\r\n        })\r\n        setNameFilter(newNameChange);\r\n    }, [Magia, searchField,selectedMagia,selectedPZ]);\r\n\r\n    const onSearchChange = (event) => {\r\n        const searchFieldString = event.target.value.toLowerCase();\r\n        setSearchField(searchFieldString);\r\n    }\r\n\r\n    \r\n    \r\n    return(\r\n        <div className=\"Page\">\r\n            <div className=\"searchBoxBackground\">\r\n                <div>\r\n                    <SearchBox\r\n                    onChangeHandler = {onSearchChange} \r\n                    className = {'search-box'} \r\n                    placeholder = {'Nazwa zaklęcia'}/>\r\n                </div>\r\n                <div>\r\n                    <Dropdown \r\n                    selected={selected} \r\n                    className=\"drop\"\r\n                    setSelected={setSelected}/>\r\n                    \r\n                </div>\r\n                <div>\r\n                    <DropdownPZ\r\n                    selectedPZ={selectedPZ} \r\n                    className=\"drop\"\r\n                    setSelectedPZ={setSelectedPZ}\r\n                    />\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"Container\">\r\n                {NameFilter.map(item =>{\r\n                    return(\r\n                        <ItemList Mlist={item}/>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Magia;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}